<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/header :: header('Show User')">
</head>

<body>

<div th:replace="fragments/navbar :: navbar"></div>

<main class="container">
    <div class="row">
        <div class="col l10 offset-2" th:object="${user}">
            <h4>User Profile</h4>
            <ul class="collection">
                <li class="collection-item avatar">
                    <img src="" alt="" class="circle user-icon" />
                    <a th:if="${showEditControls}" class="btn btn-floating right" th:href="@{/users/{id}/edit(id=${user.id}) }"><i class="material-icons ">edit</i></a>
                    <a th:if="${user.id != sessionUser.id}" class="btn btn-floating right" th:href="@{/users/{id}/friend-request(id=${user.id}) }"><i class="material-icons ">add</i> Friend Request</a>
                    <p>
                        Username: <span class="title" th:text="${user.username}"></span>
                    </p>
                    <p>
                        Email: <span th:text="${user.email}"></span>
                    </p>
                    <div>
                        <a class="btn wave teal" th:href="@{/users/friends}"><i class="material-icons">group</i> Friends</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</main>

<div th:replace="fragments/footer :: footer"></div>

<script th:inline="javascript">
    for (let e of document.getElementsByClassName('user-icon')) {
        e.src = 'https://fer-uig.glitch.me?r='+ Math.random();
    }
</script>

</body>
</html>